"use strict";(self.webpackChunkCmlsPlayer=self.webpackChunkCmlsPlayer||[]).push([[317],{8160:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});n(560);var r=n(5826),o=n(54),i=n(3583),c=n(3537);const s=["player.vimeo.com"],a=new i.Z("Patches / Vimeo");function u(){return document.querySelectorAll(s.map((e=>`iframe[src*="${e}"]:not([cmls-patched])`)).join(","))}const l=[];function d(){l.forEach((e=>{a.debug("Pausing video",e),e?.pause()}))}function p(){u().length&&(document.querySelector('script[src*="https://player.vimeo.com/api/player.js"]')||document.head.append((0,r.h)("script",{async:!0,src:"https://player.vimeo.com/api/player.js"})),(0,c.Z)(null,(()=>void 0!==window.Vimeo?.Player)).then((()=>{u().forEach((e=>{if(e.getAttribute("cmls-patched"))return;const t=new window.Vimeo.Player(e);t.on("play",(function(){o.B.stop()})),e.setAttribute("cmls-patched",!0),l.push(t),a.debug("Assigned listener",e)}))})).catch((e=>{})))}window.addEventListener("cmls-player-preroll-start",d),window.addEventListener("cmls-player-stream-start",d)},3537:function(e,t,n){function r(e,t=(e=>void 0!==e),n=1e4){const r=Date.now();return new Promise((function o(i,c){t(e)?i(e):Date.now()-r>=n?c(new Error("Timed out waiting for ref")):setTimeout(o.bind(this,i,c),50)}))}n.d(t,{Z:function(){return r}})}}]);