"use strict";(self.webpackChunkCmlsPlayer=self.webpackChunkCmlsPlayer||[]).push([[588],{462:function(e,r,t){t.r(r),t.d(r,{default:function(){return s}});t(9147);const a=new(t(3583).Z)("Framer / Patch / Cache Buster");class s{framer;constructor(e){this.framer=e}process(e,r="href"){const t=e.nodeName?.toLowerCase();if(!t)return;const s=e.getAttribute("href"),c=e.getAttribute("data-cmls-href"),n=e?.value;let i=c||s;if(c&&(r="data-cmls-href"),void 0!==n&&(i=n,r="value"),i?.length&&(!i.includes("cachebuster")||!i.includes("debug"))){const t=this.framer.getUrlObject(i);if(t.origin===window.location.origin){if(this.framer.isSamePageHash(i))return;t.searchParams.set("debug",!0),t.searchParams.set("cachebuster",Math.floor(1e11*Math.random())),a.debug("Altering link",{was:i,now:t.href}),e.setAttribute(r,t.href)}}}init(){if(!window.location.search.includes("debug"))return;const e=window.document.querySelectorAll(":any-link[href], [data-cmls-href], select.selectnav option");e&&e.forEach((e=>this.process(e)))}reverseUrlChange(e){return this.framer.getUrlObject(e),e.searchParams.delete("cachebuster"),e.searchParams.delete("debug"),e}}}}]);