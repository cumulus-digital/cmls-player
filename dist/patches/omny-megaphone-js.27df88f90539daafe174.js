"use strict";(self.webpackChunkCmlsPlayer=self.webpackChunkCmlsPlayer||[]).push([[122],{6948:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(560);var r=n(5826),s=n(54),a=n(3583),i=n(3537),o=n(300);const u=["omny.fm","megaphone.fm"],c="data-cmlsp-patched",d=new a.Z("Patches / Omny-Megaphone"),l=[],p=e=>{l.forEach((e=>{e.supports("getPaused")?e.getPaused((t=>{t||e.pause()})):e.supports("pause")&&e.pause()}))};function m(){const e=()=>document.querySelectorAll(u.map((e=>`iframe[src*="${e}"]`)).join(","));e().length&&(document.querySelector('script[src*="cdn.embed.ly/player-0.1.0.min.js"]')||document.head.append((0,r.h)("script",{async:!0,src:"https://cdn.embed.ly/player-0.1.0.min.js"})),(0,i.Z)(null,(()=>void 0!==window.playerjs?.Player)).then((()=>{e().forEach((e=>{if(e.getAttribute(c))return;e.getAttribute("id")||e.setAttribute("id",(0,o.Z)());const t=new window.playerjs.Player(e.getAttribute("id"));e.on("play",(()=>{s.B.stop()})),e.setAttribute(c,!0),l.push(t),d.debug("Assigned listener",e)}))})).catch((e=>{})))}window.addEventListener("cmls-player-preroll-start",p),window.addEventListener("cmls-player-stream-start",p)},3537:function(e,t,n){function r(e,t=(e=>void 0!==e),n=1e4){const r=Date.now();return new Promise((function s(a,i){t(e)?a(e):Date.now()-r>=n?i(new Error("Timed out waiting for ref")):setTimeout(s.bind(this,a,i),50)}))}n.d(t,{Z:function(){return r}})}}]);