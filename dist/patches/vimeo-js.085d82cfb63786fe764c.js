"use strict";(self.webpackChunkCmlsPlayer=self.webpackChunkCmlsPlayer||[]).push([[317],{8160:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var o=n(5826),r=n(54),c=n(3583),i=n(3537);const s=["player.vimeo.com"];let a=!1;const u=()=>{a=!0},l=new c.Z("Patches / Vimeo");function m(){return document.querySelectorAll(s.map((e=>`iframe[src*="${e}"]:not([cmls-patched])`)).join(","))}function p(){m().length&&(document.querySelector('script[src*="https://player.vimeo.com/api/player.js"]')||document.head.append((0,o.h)("script",{async:!0,src:"https://player.vimeo.com/api/player.js",onLoad:u})),(0,i.Z)(null,(()=>void 0!==window.Vimeo?.Player)).then((()=>{m().forEach((e=>{if(e.getAttribute("cmls-patched"))return;new window.Vimeo.Player(e).on("play",(function(){r.B.stop()})),e.setAttribute("cmls-patched",!0),l.debug("Assigned listener",e)}))})).catch((e=>{})))}},3537:function(e,t,n){function o(e,t=(e=>void 0!==e),n=1e4){const o=Date.now();return new Promise((function r(c,i){t(e)?c(e):Date.now()-o>=n?i(new Error("Timed out waiting for ref")):setTimeout(r.bind(this,c,i),50)}))}n.d(t,{Z:function(){return o}})}}]);