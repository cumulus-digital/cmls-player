"use strict";(self.webpackChunkCmlsPlayer=self.webpackChunkCmlsPlayer||[]).push([[317],{8160:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(560);var r=n(5826),o=n(54),i=n(3583),s=n(3537);const a=["player.vimeo.com"],c=new i.Z("Patches / Vimeo"),u="data-cmlsp-patched";function l(){return document.querySelectorAll(a.map((e=>`iframe[src*="${e}"]:not([${u}])`)).join(","))}const d=[],p=()=>{d.forEach((e=>{e?.getPaused&&e.getPaused().then((t=>{t||(c.debug("Pausing vimeo video",e?.element),e.pause())}))}))};function m(){l().length&&(document.querySelector('script[src*="https://player.vimeo.com/api/player.js"]')||document.head.append((0,r.h)("script",{async:!0,src:"https://player.vimeo.com/api/player.js"})),(0,s.Z)(null,(()=>void 0!==window.Vimeo?.Player)).then((()=>{l().forEach((e=>{if(e.getAttribute(u))return;const t=new window.Vimeo.Player(e);t.on("play",(function(){o.B.stop()})),e.setAttribute(u,!0),d.push(t),c.debug("Assigned listener",e)}))})).catch((e=>{})))}window.addEventListener("cmls-player-preroll-start",p),window.addEventListener("cmls-player-stream-start",p)},3537:function(e,t,n){function r(e,t=(e=>void 0!==e),n=1e4){const r=Date.now();return new Promise((function o(i,s){t(e)?i(e):Date.now()-r>=n?s(new Error("Timed out waiting for ref")):setTimeout(o.bind(this,i,s),50)}))}n.d(t,{Z:function(){return r}})}}]);